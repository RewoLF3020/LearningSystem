# Тестовое задание
- время выполнения ~ 8 часов для junior уровня

# Построение системы для обучения

## Построение архитектуры

Суть задания заключается в проверке знаний построения связей в БД и умение правильно строить запросы без ошибок N+1.

В этом задании мы имеем три бизнес-задачи по хранению данных:

1. Создание сущности "продукт". У продукта должен быть владелец. Необходимо добавить сущность для сохранения доступов к продукту для пользователя.
2. Создание сущности "урок". Урок может находиться в нескольких продуктах одновременно. В уроке должна быть базовая информация, такая как название, ссылка на видео и длительность просмотра (в секундах).
3. Уроки могут быть просмотрены различными пользователями. Для каждого пользователя необходимо фиксировать время просмотра и статус "Просмотрено"/"Не просмотрено". Статус "Просмотрено" проставляется, если пользователь просмотрел 80% ролика.

## Написание запросов

В этом задании потребуется использовать ранее созданную архитектуру:

1. Реализовать API для получения списка всех уроков по всем продуктам, к которым пользователь имеет доступ, с информацией о статусе и времени просмотра.
2. Реализовать API для получения списка уроков по конкретному продукту, к которому пользователь имеет доступ, с информацией о статусе и времени просмотра, а также датой последнего просмотра ролика.
3. Реализовать API для отображения статистики по продуктам. Необходимо вывести список всех продуктов на платформе и приложить к каждому продукту следующую информацию:
   - Количество просмотренных уроков всеми учениками.
   - Общее количество времени, которое все ученики потратили на просмотр роликов.
   - Количество учеников, занимающихся на продукте.
   - Процент приобретения продукта (рассчитывается исходя из количества полученных доступов к продукту, деленного на общее количество пользователей на платформе).

## Результат выполнения

- Выполненная архитектура базы данных на основе SQLite с использованием Django.
- Реализованные API на основе созданной архитектуры.

## Инструкции по запуску

1. Установите Python и Django на своем компьютере, если они еще не установлены.
2. Скачайте проект с репозитория.
3. Перейдите в папку проекта и установите зависимости, выполнив команду `pip install -r requirements.txt`.
4. Выполните миграции базы данных с помощью команды `python manage.py migrate`.
5. Запустите сервер разработки с помощью команды `python manage.py runserver`.
6. API будет доступно по адресу `http://localhost:8000/`.

## Примечания

- Вам может потребоваться настроить базу данных в файле `settings.py`, если вы хотите использовать другую базу данных, кроме SQLite.
- Проверьте документацию Django и Django REST Framework для получения дополнительной информации о построении архитектуры и создании API.